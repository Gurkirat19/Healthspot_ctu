<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>New User Registration - HealthSpot</title>
  <link rel="icon" type="image/png" href="/src/medical-report.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Spinner animation */
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body class="bg-blue-100 min-h-screen flex flex-col relative">

  <!-- Loader Overlay -->
  <div id="loader" class="fixed inset-0 bg-blue-900 flex items-center justify-center z-50">
    <div class="w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
  </div>

    <!-- Header with logo -->
    <header class="p-6 fixed top-0 left-0 w-full z-50">
      <a href="/index.html" class="text-4xl font-bold text-black select-none pointer-events-auto">
        ü©∫ HealthSpot
      </a>
    </header>

  <!-- Main Content -->
  <main class="flex-grow flex items-center justify-center px-4 py-10 z-0 opacity-0 transition-opacity duration-500" id="main-content">
  <div class="bg-white shadow-lg rounded-lg max-w-lg w-full p-8">
       
      <h2 class="text-2xl font-semibold text-blue-900 mb-6 text-center">New User Registration</h2>
      <form action="#" method="POST" class="space-y-6">
        <div>
          <label for="fullName" class="block text-blue-800 font-medium mb-1">Full Name</label>
          <input type="text" id="fullName" name="fullName" required
                
                 class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600" />
        </div>


        <div>
          <label for="phone" class="block text-blue-800 font-medium mb-1">Phone Number</label>
          <input type="tel" id="phone" name="phone" required pattern="[0-9]{10}"
                 
                 class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600" />
        </div>

        <div>
          <label for="dob" class="block text-blue-800 font-medium mb-1">Date of Birth</label>
          <input type="date" id="dob" name="dob" required
                 class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600" />
        </div>

        <div>
          <label for="gender" class="block text-blue-800 font-medium mb-1">Gender</label>
          <select id="gender" name="gender" required
                  class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600">
            <option value="" disabled selected>Select Gender</option>
            <option>Male</option>
            <option>Female</option>
            <option>Other</option>
            <option>Prefer not to say</option>
          </select>
        </div>

    <div>
      <label for="bloodGroup" class="block text-blue-800 font-medium mb-1">Blood Group</label>
      <select id="bloodGroup" name="bloodGroup" 
              class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600">
        <option value="">Select your blood group</option>
        <option value="A+">A+</option>
        <option value="A-">A-</option>
        <option value="B+">B+</option>
        <option value="B-">B-</option>
        <option value="AB+">AB+</option>
        <option value="AB-">AB-</option>
        <option value="O+">O+</option>
        <option value="O-">O-</option>
      </select>
    </div>

    <div class="mt-4">
      <label for="allergies" class="block text-blue-800 font-medium mb-1">Allergies</label>
      <input type="text" id="allergies" name="allergies" placeholder="E.g. Peanuts, Dust, Pollen"
            class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600">
    </div>

    <div class="mt-4">
      <label for="conditions" class="block text-blue-800 font-medium mb-1">Chronic Conditions</label>
      <input type="text" id="conditions" name="conditions" placeholder="E.g. Asthma, Diabetes"
            class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600">
    </div>

    <div class="mt-4">
      <label for="medications" class="block text-blue-800 font-medium mb-1">Current Medications</label>
      <input type="text" id="medications" name="medications" placeholder="E.g. Insulin, Paracetamol"
            class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600">
    </div>

    <div class="mt-4">
      <label for="medicalHistory" class="block text-blue-800 font-medium mb-1">Additional Medical History (Optional)</label>
      <textarea id="medicalHistory" name="medicalHistory" rows="4" 
                placeholder="Any surgeries, hospitalizations, or other notes..."
                class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600"></textarea>
    </div>


        <div class="flex items-start gap-1">
      <div class="flex flex-col w-80"> <!-- Increased width -->
        <label for="email" class="block text-blue-800 font-medium mb-1">Email Address</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600"
        />
      </div>
      <button
        id="getOtpBtn"
        type="button"
        class="mt-3 px-3 py-1.5 ml-2 mt-8 bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600"
      >
        Get OTP
      </button>
    </div>


    <div id="otpSection" class="hidden mt-2 flex items-center gap-2">
      <input
        id="otpInput"
        type="text"
        placeholder="Enter OTP"
        maxlength="6"
        class="px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600"
      />
      <button
        id="verifyOtpBtn"
        type="button"
        class="px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-600"
      >
        Verify
      </button>
      <span id="otpStatus" class="ml-2 text-sm"></span>
    </div>

        <!-- Password Checker -->

        <div class="relative w-full">
          <label for="password" class="block text-blue-800 font-medium mb-1">Password</label>
          
          <input
            type="password"
            id="password"
            name="password"
            required
            placeholder="Your Password"
            class="w-full px-4 py-2 border border-blue-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-600 pr-10"
          />

          <!-- Eye icon button -->
          <button
            type="button"
            id="togglePassword"
            class="absolute right-3 top-[2.5rem] text-blue-600 cursor-pointer"
            aria-label="Show password"
            tabindex="-1"
          >
            <!-- Eye SVG (closed by default) -->
            <svg
              id="eyeIcon"
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
              />
            </svg>
          </button>

          <p id="passwordHint" class="mt-1 text-sm text-blue-600 font-semibold">
            Use a strong password with at least 8 characters, including letters, numbers & symbols.
          </p>
        </div>
                <button type="submit"
                class="w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-3 rounded transition">
          Get Your Health ID
        </button>
      </form>
    </div>
  </main>

              <!-- Safe info message -->
    <p class="text-green-700 text-center text-xl font-bold mb-6">
      üîí Your details is completely safe with us!
    </p>

    <!-- Fill Dummy Data Button -->
    <div class="fixed bottom-4 right-4 flex flex-col items-center gap-0.5 z-50">
      <button 
        id="fillDummyBtn" 
        class="bg-blue-700 hover:bg-blue-800 text-white text-sm font-medium px-3 py-2 rounded-full shadow-lg"
      >
        üìù Dummy Data
      </button>
      <small class="text-gray-500 text-xs">only for testing</small>
    </div>


  <div id="form-loader" class="fixed inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center z-50 hidden">
  <div class="w-16 h-16 border-4 border-blue-500 border-dashed rounded-full animate-spin mb-6"></div>
  <p class="text-xl font-semibold text-blue-800">Creating your Health ID...</p>
</div>

<div id="otpNotification" style="
  display: none;
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: #4caf50;
  color: white;
  padding: 12px 20px;
  border-radius: 5px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  font-family: Arial, sans-serif;
  z-index: 1000;
">
  OTP has been sent to your email ‚úÖ
</div>

<!-- Message Popup -->
<div id="messagePopup" class="fixed inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center hidden z-50">
  <div class="bg-white rounded-lg p-6 max-w-sm w-full text-center shadow-lg">
    <p id="popupMessage" class="text-red-600 text-lg mb-4"></p>
    <button onclick="closePopup()" class="mt-2 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded">OK</button>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
  emailjs.init("N-uGeu8cWe-Y-D-v_"); // your public key
</script>
<script src="new-user.js"></script>

</body>
</html>
